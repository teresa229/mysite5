<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">

<!-- 리스트 -->
<select id="selectList" resultType="com.javaex.vo.BoardVo">
<![CDATA[
	select bo.no,
	       us.name,
	       bo.title,
	       bo.content,
	       bo.hit,
	       bo.reg_date,
	       bo.user_no as userNo
	from users us, board bo
	where us.no = bo.user_no
	order by reg_date desc
]]>
</select>

<!-- 등록 -->
<insert id="insert" parameterType="com.javaex.vo.BoardVo">
<![CDATA[
	insert into board
	values(seq_board_no.nextval, #{title}, #{content}, default, sysdate, #{userNo})
]]>
</insert>

<!-- 삭제 -->
<delete id="delete" parameterType="int">
<![CDATA[
	delete board
    where no = #{no}
]]>
</delete>

<!-- 수정 -->
<update id="update" parameterType="com.javaex.vo.BoardVo">
<![CDATA[
	update board
	set title = #{title},
	    content = #{content}
	where no = #{no}
]]>
</update>

<!-- 1명 선택 -->
<select id="selectOne" parameterType="int" resultType="com.javaex.vo.BoardVo">
<![CDATA[
	select bo.no,
	       us.name,
	       bo.title,
	       bo.content,
	       bo.hit,
	       bo.reg_date,
	       bo.user_no as userNo
	from users us, board bo
	where us.no = bo.user_no
	and bo.no = #{no}
]]>
</select>

<!-- 조회수 -->
<update id="updateHit" parameterType="int" >
<![CDATA[
    update board
    set hit= hit+1
    where no= #{no}
]]>
</update>
</mapper>